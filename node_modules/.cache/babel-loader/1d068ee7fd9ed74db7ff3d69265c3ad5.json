{"ast":null,"code":"import { swalClasses, iconTypes } from '../classes.js';\nimport { getContainer, getPopup, getContent } from './getters.js';\nimport { addClass, removeClass, getChildByClass } from './domUtils.js';\nimport { isNodeEnv } from '../isNodeEnv.js';\nimport { error } from '../utils.js';\nimport sweetAlert from '../../sweetalert2.js';\nconst sweetHTML = `\n <div aria-labelledby=\"${swalClasses.title}\" aria-describedby=\"${swalClasses.content}\" class=\"${swalClasses.popup}\" tabindex=\"-1\">\n   <div class=\"${swalClasses.header}\">\n     <ul class=\"${swalClasses['progress-steps']}\"></ul>\n     <div class=\"${swalClasses.icon} ${iconTypes.error}\"></div>\n     <div class=\"${swalClasses.icon} ${iconTypes.question}\"></div>\n     <div class=\"${swalClasses.icon} ${iconTypes.warning}\"></div>\n     <div class=\"${swalClasses.icon} ${iconTypes.info}\"></div>\n     <div class=\"${swalClasses.icon} ${iconTypes.success}\"></div>\n     <img class=\"${swalClasses.image}\" />\n     <h2 class=\"${swalClasses.title}\" id=\"${swalClasses.title}\"></h2>\n     <button type=\"button\" class=\"${swalClasses.close}\"></button>\n   </div>\n   <div class=\"${swalClasses.content}\">\n     <div id=\"${swalClasses.content}\" class=\"${swalClasses['html-container']}\"></div>\n     <input class=\"${swalClasses.input}\" />\n     <input type=\"file\" class=\"${swalClasses.file}\" />\n     <div class=\"${swalClasses.range}\">\n       <input type=\"range\" />\n       <output></output>\n     </div>\n     <select class=\"${swalClasses.select}\"></select>\n     <div class=\"${swalClasses.radio}\"></div>\n     <label for=\"${swalClasses.checkbox}\" class=\"${swalClasses.checkbox}\">\n       <input type=\"checkbox\" />\n       <span class=\"${swalClasses.label}\"></span>\n     </label>\n     <textarea class=\"${swalClasses.textarea}\"></textarea>\n     <div class=\"${swalClasses['validation-message']}\" id=\"${swalClasses['validation-message']}\"></div>\n   </div>\n   <div class=\"${swalClasses.actions}\">\n     <button type=\"button\" class=\"${swalClasses.confirm}\">OK</button>\n     <button type=\"button\" class=\"${swalClasses.cancel}\">Cancel</button>\n   </div>\n   <div class=\"${swalClasses.footer}\"></div>\n   <div class=\"${swalClasses['timer-progress-bar']}\"></div>\n </div>\n`.replace(/(^|\\n)\\s*/g, '');\n\nconst resetOldContainer = () => {\n  const oldContainer = getContainer();\n\n  if (!oldContainer) {\n    return false;\n  }\n\n  oldContainer.parentNode.removeChild(oldContainer);\n  removeClass([document.documentElement, document.body], [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]);\n  return true;\n};\n\nlet oldInputVal; // IE11 workaround, see #1109 for details\n\nconst resetValidationMessage = e => {\n  if (sweetAlert.isVisible() && oldInputVal !== e.target.value) {\n    sweetAlert.resetValidationMessage();\n  }\n\n  oldInputVal = e.target.value;\n};\n\nconst addInputChangeListeners = () => {\n  const content = getContent();\n  const input = getChildByClass(content, swalClasses.input);\n  const file = getChildByClass(content, swalClasses.file);\n  const range = content.querySelector(`.${swalClasses.range} input`);\n  const rangeOutput = content.querySelector(`.${swalClasses.range} output`);\n  const select = getChildByClass(content, swalClasses.select);\n  const checkbox = content.querySelector(`.${swalClasses.checkbox} input`);\n  const textarea = getChildByClass(content, swalClasses.textarea);\n  input.oninput = resetValidationMessage;\n  file.onchange = resetValidationMessage;\n  select.onchange = resetValidationMessage;\n  checkbox.onchange = resetValidationMessage;\n  textarea.oninput = resetValidationMessage;\n\n  range.oninput = e => {\n    resetValidationMessage(e);\n    rangeOutput.value = range.value;\n  };\n\n  range.onchange = e => {\n    resetValidationMessage(e);\n    range.nextSibling.value = range.value;\n  };\n};\n\nconst getTarget = target => typeof target === 'string' ? document.querySelector(target) : target;\n\nconst setupAccessibility = params => {\n  const popup = getPopup();\n  popup.setAttribute('role', params.toast ? 'alert' : 'dialog');\n  popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive');\n\n  if (!params.toast) {\n    popup.setAttribute('aria-modal', 'true');\n  }\n};\n\nconst setupRTL = targetElement => {\n  if (window.getComputedStyle(targetElement).direction === 'rtl') {\n    addClass(getContainer(), swalClasses.rtl);\n  }\n};\n/*\n * Add modal + backdrop to DOM\n */\n\n\nexport const init = params => {\n  // Clean up the old popup container if it exists\n  const oldContainerExisted = resetOldContainer();\n  /* istanbul ignore if */\n\n  if (isNodeEnv()) {\n    error('SweetAlert2 requires document to initialize');\n    return;\n  }\n\n  const container = document.createElement('div');\n  container.className = swalClasses.container;\n\n  if (oldContainerExisted) {\n    addClass(container, swalClasses['no-transition']);\n  }\n\n  container.innerHTML = sweetHTML;\n  const targetElement = getTarget(params.target);\n  targetElement.appendChild(container);\n  setupAccessibility(params);\n  setupRTL(targetElement);\n  addInputChangeListeners();\n};","map":{"version":3,"sources":["/home/bmenezes/my-app/node_modules/sweetalert2/src/utils/dom/init.js"],"names":["swalClasses","iconTypes","getContainer","getPopup","getContent","addClass","removeClass","getChildByClass","isNodeEnv","error","sweetAlert","sweetHTML","title","content","popup","header","icon","question","warning","info","success","image","close","input","file","range","select","radio","checkbox","label","textarea","actions","confirm","cancel","footer","replace","resetOldContainer","oldContainer","parentNode","removeChild","document","documentElement","body","oldInputVal","resetValidationMessage","e","isVisible","target","value","addInputChangeListeners","querySelector","rangeOutput","oninput","onchange","nextSibling","getTarget","setupAccessibility","params","setAttribute","toast","setupRTL","targetElement","window","getComputedStyle","direction","rtl","init","oldContainerExisted","container","createElement","className","innerHTML","appendChild"],"mappings":"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","sourcesContent":["import { swalClasses, iconTypes } from '../classes.js'\nimport { getContainer, getPopup, getContent } from './getters.js'\nimport { addClass, removeClass, getChildByClass } from './domUtils.js'\nimport { isNodeEnv } from '../isNodeEnv.js'\nimport { error } from '../utils.js'\nimport sweetAlert from '../../sweetalert2.js'\n\nconst sweetHTML = `\n <div aria-labelledby=\"${swalClasses.title}\" aria-describedby=\"${swalClasses.content}\" class=\"${swalClasses.popup}\" tabindex=\"-1\">\n   <div class=\"${swalClasses.header}\">\n     <ul class=\"${swalClasses['progress-steps']}\"></ul>\n     <div class=\"${swalClasses.icon} ${iconTypes.error}\"></div>\n     <div class=\"${swalClasses.icon} ${iconTypes.question}\"></div>\n     <div class=\"${swalClasses.icon} ${iconTypes.warning}\"></div>\n     <div class=\"${swalClasses.icon} ${iconTypes.info}\"></div>\n     <div class=\"${swalClasses.icon} ${iconTypes.success}\"></div>\n     <img class=\"${swalClasses.image}\" />\n     <h2 class=\"${swalClasses.title}\" id=\"${swalClasses.title}\"></h2>\n     <button type=\"button\" class=\"${swalClasses.close}\"></button>\n   </div>\n   <div class=\"${swalClasses.content}\">\n     <div id=\"${swalClasses.content}\" class=\"${swalClasses['html-container']}\"></div>\n     <input class=\"${swalClasses.input}\" />\n     <input type=\"file\" class=\"${swalClasses.file}\" />\n     <div class=\"${swalClasses.range}\">\n       <input type=\"range\" />\n       <output></output>\n     </div>\n     <select class=\"${swalClasses.select}\"></select>\n     <div class=\"${swalClasses.radio}\"></div>\n     <label for=\"${swalClasses.checkbox}\" class=\"${swalClasses.checkbox}\">\n       <input type=\"checkbox\" />\n       <span class=\"${swalClasses.label}\"></span>\n     </label>\n     <textarea class=\"${swalClasses.textarea}\"></textarea>\n     <div class=\"${swalClasses['validation-message']}\" id=\"${swalClasses['validation-message']}\"></div>\n   </div>\n   <div class=\"${swalClasses.actions}\">\n     <button type=\"button\" class=\"${swalClasses.confirm}\">OK</button>\n     <button type=\"button\" class=\"${swalClasses.cancel}\">Cancel</button>\n   </div>\n   <div class=\"${swalClasses.footer}\"></div>\n   <div class=\"${swalClasses['timer-progress-bar']}\"></div>\n </div>\n`.replace(/(^|\\n)\\s*/g, '')\n\nconst resetOldContainer = () => {\n  const oldContainer = getContainer()\n  if (!oldContainer) {\n    return false\n  }\n\n  oldContainer.parentNode.removeChild(oldContainer)\n  removeClass(\n    [document.documentElement, document.body],\n    [\n      swalClasses['no-backdrop'],\n      swalClasses['toast-shown'],\n      swalClasses['has-column']\n    ]\n  )\n\n  return true\n}\n\nlet oldInputVal // IE11 workaround, see #1109 for details\nconst resetValidationMessage = (e) => {\n  if (sweetAlert.isVisible() && oldInputVal !== e.target.value) {\n    sweetAlert.resetValidationMessage()\n  }\n  oldInputVal = e.target.value\n}\n\nconst addInputChangeListeners = () => {\n  const content = getContent()\n\n  const input = getChildByClass(content, swalClasses.input)\n  const file = getChildByClass(content, swalClasses.file)\n  const range = content.querySelector(`.${swalClasses.range} input`)\n  const rangeOutput = content.querySelector(`.${swalClasses.range} output`)\n  const select = getChildByClass(content, swalClasses.select)\n  const checkbox = content.querySelector(`.${swalClasses.checkbox} input`)\n  const textarea = getChildByClass(content, swalClasses.textarea)\n\n  input.oninput = resetValidationMessage\n  file.onchange = resetValidationMessage\n  select.onchange = resetValidationMessage\n  checkbox.onchange = resetValidationMessage\n  textarea.oninput = resetValidationMessage\n\n  range.oninput = (e) => {\n    resetValidationMessage(e)\n    rangeOutput.value = range.value\n  }\n\n  range.onchange = (e) => {\n    resetValidationMessage(e)\n    range.nextSibling.value = range.value\n  }\n}\n\nconst getTarget = (target) => typeof target === 'string' ? document.querySelector(target) : target\n\nconst setupAccessibility = (params) => {\n  const popup = getPopup()\n\n  popup.setAttribute('role', params.toast ? 'alert' : 'dialog')\n  popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive')\n  if (!params.toast) {\n    popup.setAttribute('aria-modal', 'true')\n  }\n}\n\nconst setupRTL = (targetElement) => {\n  if (window.getComputedStyle(targetElement).direction === 'rtl') {\n    addClass(getContainer(), swalClasses.rtl)\n  }\n}\n\n/*\n * Add modal + backdrop to DOM\n */\nexport const init = (params) => {\n  // Clean up the old popup container if it exists\n  const oldContainerExisted = resetOldContainer()\n\n  /* istanbul ignore if */\n  if (isNodeEnv()) {\n    error('SweetAlert2 requires document to initialize')\n    return\n  }\n\n  const container = document.createElement('div')\n  container.className = swalClasses.container\n  if (oldContainerExisted) {\n    addClass(container, swalClasses['no-transition'])\n  }\n  container.innerHTML = sweetHTML\n\n  const targetElement = getTarget(params.target)\n  targetElement.appendChild(container)\n\n  setupAccessibility(params)\n  setupRTL(targetElement)\n  addInputChangeListeners()\n}\n"]},"metadata":{},"sourceType":"module"}